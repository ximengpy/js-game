<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta http-equiv="X-UA-Compatible" content="ie=edge">
 <title>实验</title>
</head>
<body>
  <script>
  // Array.prototype.myForEach = function (cb) {
  //   // 我们的arr去哪里了? => this
  //   for(let i = 0;i < this.length; i++){
  //     cb(this[i], i, this)
  //   }
  // }
  
  // ;[1, 2, 3].myForEach(function () {
  //   console.log(this)
  // })
  //reduce filter map shift unshift push pop
  let class17 = [
      {
        name: "zhangsan",
        sex: "女",
        money: 12
      },
      {
        name: "zhangsan2",
        sex: "男",
        money: 22
      },
      {
        name: "zhangsan3", // 
        sex: "女",
        money: 16
      },
      {
        name: "zhangsan4",
        sex: "男",
        money: 32
      },
      {
        name: "zhangsan5", // 
        sex: "女",
        money: 44
      },
      {
        name: "zhangsan6", // 
        sex: "女",
        money: 50
      },
    ]
 //  Array.prototype.mysome = function(cb){

 //   for(let i = 0;i<this.length;i++){
 //    if(cb(this[i])) {return true}
   
 //   }
 //   return false
 //  }
 // Array.prototype.myevery = function(cb){
 //  for(let i = 0;i<this.length;i++){
 //    if(!cb(this[i])) {return false}
   
 //   }
 //   return true
 // }


 //  let ans = class17.myevery(student => {
 //      return student.sex === "女"
 //    })
 //    console.log(ans)

 //    Array.prototype.mymap = function(arr, cb){
 //      let resultArr = []
 //      for(let i = 0; i < arr.length; i++){
 //        resultArr.push(cb(arr[i], i, arr))
 //      }
 //      return resultArr
 //    }

 //    let newClass2 = [].mymap(class17, item => {
 //      item.sex = item.sex==="男"?"女":"男"
 //      return item
 //    })
 Array.prototype.mypush = function( ...rest){
   let len = this.length
   for(let i = 0;i<rest.length;i++){
     this[len+i] = rest[i]
   }
   return this.length
 }
   class17.mypush( {
        name: "zhangsan6", // 
        sex: "女",
        money: 50
      },1,3)
  
//  Array.prototype.mypop=function(){
//   let result =this[this.length - 1]
//       this.length = this.length - 1
//       return result
//   }
//   class17.mypop()

// Array.prototype.myreduce = function( cb, count){
//         let result = this[0]
//         let start = 1
//         if(arguments.length >= 2){
//           result = arguments[1]
//           start = 0
//         }
//         for(let i = start;i < this.length;i++){
//           result = cb(result, this[i], i, this)
//         }
//         return result
//       }
Function.prototype.uncurrying = function(){
      // console.log(this) // 不会打印的
      const self = this
      // 返回拆解的结果
      return function () {
          // 接受的参数分成两个部分, 第一个是调用主体 obj
          // 第二个以及后面的参数, 是原函数的参数 rest
          
          let obj = [].shift.call(arguments)
          let rest = arguments
          return self.apply(obj, rest)
      }
  }

  let forEach = [].forEach.uncurrying()
  
  forEach("asd", function (item) {
      console.log(item)
  })
 
  </script>
</body>
</html>